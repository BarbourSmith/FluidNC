board: Maslow
name: Maslow S3 Board

# is the maslow on a stand vertically (true) or on a flat surface (false)
Maslow_vertical: false

# <Bar?>, not sure what these are?
Maslow_calibration_offset_X: 500
Maslow_calibration_offset_Y: 500
Maslow_calibration_size_X: 10
Maslow_calibration_size_Y: 9

#####################################################################
# define the frame
#
# The bottom left is 0,0 and top right is Width by height
# all values in millimeters!

# Top left corner of frame. nominally  0, height
Maslow_tlX: -27.6
Maslow_tlY: 2064.9

# Top right corner of frame. nominally width, height.
Maslow_trX: 2924.3
Maslow_trY: 2066.5

# Bottom left. Nominally 0,0
Maslow_blX: 0
Maslow_blY: 0

# Bottom right. Nominally width,0
Maslow_brX: 2953.2
Maslow_brY: 0

# Z axis values (left and right steppers, bottom and top)
# <Bar?> why are the sides different here? what are min/max for these?
Maslow_tlZ: 144
Maslow_trZ: 97
Maslow_blZ: 75
Maslow_brZ: 117

# how hard should Maslow pull on the belts to retract before considering them to be all the way in.
# (<Bar?>, is this milliamps? does it matter? maybe a comment about range?)
Maslow_Retract_Current_Threshold: 1300
# <Bar?> what is this one for?
Maslow_Calibration_Current_Threshold: 1300


####################
# below here should not need to change, these are related to how fluidcnc connects to the board.

spi:
  miso_pin: gpio.13
  mosi_pin: gpio.11
  sck_pin: gpio.12

sdcard:
  card_detect_pin: NO_PIN
  cs_pin: gpio.10

stepping:
  engine: RMT
  idle_ms: 240

uart1:
  txd_pin: gpio.1
  rxd_pin: gpio.2
  baud: 115200
  mode: 8N1

axes:
  x:
    max_rate_mm_per_min: 2000
    acceleration_mm_per_sec2: 25
    max_travel_mm: 2438.4
    homing:
      cycle: -1

    motor0:
      dc_servo:

  y:
    max_rate_mm_per_min: 2000
    acceleration_mm_per_sec2: 25
    max_travel_mm: 1219.2
    homing:
      cycle: -1

  z:
    steps_per_mm: 100
    max_rate_mm_per_min: 400
    acceleration_mm_per_sec2: 10
    max_travel_mm: 100

    homing:
      cycle: -1

    motor0:
      tmc_2209:
        uart_num: 1
        addr: 0
        cs_pin: NO_PIN
        r_sense_ohms: 0.110
        run_amps: 1.000
        hold_amps: 0.500
        microsteps: 0
        stallguard: 0
        stallguard_debug: false
        toff_disable: 0
        toff_stealthchop: 5
        toff_coolstep: 3
        run_mode: StealthChop
        homing_mode: StealthChop
        use_enable: true
        direction_pin: gpio.16
        step_pin: gpio.15

    motor1:
      tmc_2209:
        uart_num: 1
        addr: 1
        cs_pin: NO_PIN
        r_sense_ohms: 0.110
        run_amps: 1.000
        hold_amps: 0.500
        microsteps: 0
        stallguard: 0
        stallguard_debug: false
        toff_disable: 0
        toff_stealthchop: 5
        toff_coolstep: 3
        run_mode: StealthChop
        homing_mode: StealthChop
        use_enable: true
        direction_pin: gpio.38
        step_pin: gpio.46
